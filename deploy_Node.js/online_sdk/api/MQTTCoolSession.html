<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Interface: MQTTCoolSession</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Interface: MQTTCoolSession</h1>
    
    




<section>

<header>
    
        <h2>MQTTCoolSession</h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Encapsulation of a session opened against MQTT&#46;Cool, from
which to create <a href="MqttClient.html">MqttClient</a> objects used to communicate with MQTT
brokers.
<p>
An instance of <code>MQTTCoolSession</code>, which is created by invoking
the <a href="global.html#openSession">openSession</a> function, manages an
<i>MQTT&#46;Cool connection</i> to handle the bidirectional
communications between <b>all</b> <code>MqttClient</code> instances it can
create and the target MQTT&#46;Cool server, in order to
support <i>end-to-end</i> communications with an MQTT broker.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Method Summary</h3>
        
        <dl>
          


  <dt>
    <span class="signature"><a href="MQTTCoolSession.html#close" class="close">close</a><span class="signature">
  </dt>
  
      <dd class="summary">Disconnects from MQTT&#46;Cool by closing the underlying
MQTT&#46;Cool connection.</dd>
  
  
 
        
          


  <dt>
    <span class="signature"><a href="MQTTCoolSession.html#createClient" class="createClient">createClient</a><span class="signature">
  </dt>
  
      <dd class="summary">Creates a new <code>MqttClient</code> instance, specifying how to
address the MQTT broker to connect to, as well as the modalities by which
the physical MQTT connection has to be set up and managed on the server
side.</dd>
  
  
 
        </dl>
    
    
        
    
    
        <h3 class="subsection-title">Method Detail</h3>
        <dl>
            
<dt>


    <h4 class="name" id="close"><span class="type-signature"></span>close<span class="signature">()</span><span class="type-signature"></span></h4>

</dt>
<dd>


<div class="description">
    Disconnects from MQTT&#46;Cool by closing the underlying
MQTT&#46;Cool connection.
<p>
The disconnection also causes all <code>MqttClient</code> objects created
from this instance to be closed and notified through the
<a href="MqttClient.html#onConnectionLost">MqttClient#onConnectionLost</a> callback.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>
















        
            
<dt>


    <h4 class="name" id="createClient"><span class="type-signature"></span>createClient<span class="signature">(brokerReference, clientId<span class="signature-attributes">opt, nullable</span>)</span><span class="type-signature"> &rarr; {<a href="MqttClient.html">MqttClient</a>}</span></h4>

</dt>
<dd>


<div class="description">
    Creates a new <code>MqttClient</code> instance, specifying how to
address the MQTT broker to connect to, as well as the modalities by which
the physical MQTT connection has to be set up and managed on the server
side.
<p>
The returned <code>MqttClient</code> is configured to address the target
MQTT broker on the basis of the provided <code>brokerReference</code>
parameter. The following two different approaches are available (see
the <i>MQTT&#46;Cool Getting Started Guide</i> for
more in-depth information):
<ul>
  <li><b>Static Lookup</b>, activated when <code>brokerReference</code>
    is a <i>connection_alias</i> corresponding to a static configuration
    already provided in the <code>mqtt_master_connector_conf.xml</code>
    file. Upon invoking the <a href="MqttClient.html#connect">MqttClient#connect</a> method on the
    <code>MqttClient</code> instance, the MQTT&#46;Cool
    server will resolve the supplied alias by looking up the target
    configuration and will connect to the specified broker using all the
    other relative connection settings.
    <p>
    As an example, in the case the
    <code>mqtt_master_connector_conf.xml</code>
    file is populated with the following entries:
    <ol>
      <li><code>"local_server"  => "mqtt://localhost:1883"</code></li>
      <li><code>"remote_server" => "mqtt://&lt;remote_host&gt;:2883"</code>
      </li>
    </ol>
    <p>
    an invocation like:
    <pre><code>mqttCoolSession.createClient(&quot;local_server&quot;);</code></pre>
    will create an <code>MqttClient</code> instance enabled to establish
    a connection with an MQTT broker listening on tcp port 1883 of the
    same machine of MQTT&#46;Cool.
    <p>
    Similarly:
    <pre><code>mqttCoolSession.createClient(&quot;remote_server&quot;);</code></pre>
    will make an <code>MqttClient</code> ready to connect to an MQTT
    broker listening on tcp port 2883 of <code>&lt;remote_host&gt;</code>
    address.
  </li>
  <li><b>Dynamic Lookup</b>, triggered when <code>brokerReference</code>
    is an explicit URI. Upon calling the <a href="MqttClient.html#connect">MqttClient#connect</a>
    method, the MQTT&#46;Cool server will bypass any
    provided static configurations and will try to connect to the MQTT
    broker running on the host at the supplied address.
    <p>
    As an example, the following invocation:
    <pre><code>mqttCoolSession.createClient(&quot;tcp://test.mosquitto.org:1883&quot;)</code></pre>
    will trigger an MQTT connection to the publicly accessible instance of
    the "Mosquitto" broker.
  </li>
</ul>
<p>
The optional <code>clientId</code> parameter identifies the client to the
target MQTT broker, as per the <i>MQTT Protocol Specifications</i>,
namely:
<ul>
  <li>For an <code>MqttClient</code> instance for which a valid
    <code>clientId</code> value is provided, the
    MQTT&#46;Cool server will set up a
    <i>dedicated connection</i>.
  </li>
  <li>An <code>MqttClient</code> instance for which the
     <code>clientId</code> is not specified will be <i>logically</i>
     joined to a <i>shared connection</i>.
  </li>
</ul>
<p>
See the documentation of the <a href="MqttClient.html">MqttClient</a> interface for more
details on how dedicated and shared connections are managed by the
MQTT&#46;Cool server.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Argument</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>brokerReference</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">The reference of the MQTT broker with
  which MQTT&#46;Cool has to establish a new connection.
  <p>
  As detailed above, the lookup type to be used to identify and contact
  the MQTT broker is determined by the format, which can be:
  <ul>
    <li>In the case of <code>Static Lookup</code>, a generic string valid
      with respect to the Regular Expression: <code>/^[A-Za-z0-9_-]+$/</code>.
    </li>
    <li>In the case of <code>Dynamic Lookup</code>, a URI in one of the
      following forms:
      <ul>
        <li><code>"tcp://&lt;mqtt_broker_address&gt;:&lt;mqtt_broker_port&gt;"</code>
        </li>
        <li><code>"mqtt://&lt;mqtt_broker_address&gt;:&lt;mqtt_broker_port&gt;"</code>
        </li>
        <li><code>"mqtts://&lt;mqtt_broker_address&gt;:&lt;mqtt_broker_port&gt;"</code>
        </li>
        <li><code>"ssl://&lt;mqtt_broker_address&gt;:&lt;mqtt_broker_port&gt;"</code>
        </li>
      </ul>
    </li>
   </li>
</ul></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>clientId</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                    &lt;nullable><br>
                

                
                </td>
            

            

            <td class="description last">The client identifier to be used to identify
  the newly created client to the MQTT broker.
  <p>
  If a non-empty string is provided, it has to be <code>UTF-8</code>
  encodable. In this case, a dedicated connection will be set up.
  <p>
  Empty string and <code>null</code> are equivalent to a non-provided
  value. In this case, a shared connection will be set up.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        If the provided arguments are invalid.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">Error</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    An object implementing the <a href="MqttClient.html">MqttClient</a>
  interface, already configured to establish a connection to the target
  MQTT broker.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="MqttClient.html">MqttClient</a></span>


    </dd>
</dl>

    



        </dl>
    
    
    

    
</article>

</section>




</div>

<nav>
    <a href="https://mqtt.cool"><img src="logo.svg"/></a><h2><a href="index.html">Home</a> | <a href="index-all.html">Index</a></h2><h3>Externals</h3><ul><li class="signature"><a href="external-LightstreamerClient.html">LightstreamerClient</a></li></ul><h3>Classes</h3><ul><li class="signature"><a href="Message.html">Message</a></li></ul><h3>Interfaces</h3><ul><li class="signature"><a href="MqttClient.html">MqttClient</a></li><li class="signature"><a href="MQTTCoolListener.html">MQTTCoolListener</a></li><li class="signature"><a href="MQTTCoolSession.html">MQTTCoolSession</a></li><li class="signature"><a href="MqttStorage.html">MqttStorage</a></li></ul><h3>Global</h3><ul><li><a href="global.html#openSession">openSession</a></li></ul>
</nav>

<br clear="both">

<footer>
    <div class="footer_text">MQTT&#46;Cool Node.js Client 1.2.5 API Reference
      <div class="jsdoc_ctime">
         Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Wed Sep 29 2021 11:30:20 GMT+0200 (W. Europe Daylight Time)
      </div>
    </div>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>